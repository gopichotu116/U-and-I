<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.com">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login and Signup</title>

    <!-- Link to Bootstrap CSS -->
    <th:block th:insert="bootstrap.html"></th:block>

    <!-- Link to your custom CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/login.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/signup.css}">

    <style>
        /* Common styles for login and signup forms */
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .form-container {
            position: relative;
            width: 300px; /* Adjust width as needed */
            height: 400px; /* Adjust height as needed */
            perspective: 1000px;
        }

        .form-container.flip .form-inner {
            transform: rotateY(180deg);
        }

        .form-inner {
            position: absolute;
            width: 100%;
            height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        /* Animation effect to flip the form */
        .flip-button {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            cursor: pointer;
        }

        /* Specific styles for login form */
        .login {
            background-color: #f0f0f0;
            padding: 20px;
            border-radius: 10px;
        }

        /* Specific styles for signup form */
        .signup {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
        }
    </style>
</head>

<body>
<div class="container">
    <div class="form-container" id="formContainer">
        <div class="form-inner">
            <!-- Login Form -->
            <div class="login">
                <form action="cust_loginwel" method="post">
                    <label>Login</label>

                    <div class="errorMsg" th:if="${not #strings.isEmpty(errorMsg)}">
                        <h2 class="text-center text-danger fs-5" th:text="${errorMsg}"></h2>
                    </div>

                    <div class="loginMsg" th:if="${not #strings.isEmpty(loginSuccess)}">
                        <h1 class="text-center text-success fs-5" th:text="${loginSuccess}"></h1>
                    </div>

                    <input type="email" name="email" placeholder="Email" required="">
                    <input type="password" name="pswd" placeholder="Password" required="">
                    <button>Login</button>
                    <p id="p2">Don't have an account? <a href="#" id="flipToSignup">Sign up</a></p>
                    <p id="p3"><a href="/custForgetPassword">Forgot password?</a></p>
                </form>
            </div>

            <!-- Signup Form -->
            <div class="signup">
                <form th:action="@{/cust_signupwel}" th:object="${customer}" method="post"
                      enctype="multipart/form-data">
                    <label>Sign up</label>

                    <input type="text" th:field="*{name}" placeholder="Username" required="">
                    <input type="email" th:field="*{email}" placeholder="Email" required="">

                    <label class="pswd"><a class="pswd" href="/passwordRequirements"><i
                            class="fas fa-arrow-right-to-bracket"></i> Password requirements</a></label>

                    <input type="password" th:field="*{password}" placeholder="Password" required="">
                    <input type="text" th:field="*{phno}" placeholder="(+91)MobileNo" required>
                    <input type="text" th:field="*{loc}" placeholder="Location" required>
                    <input type="file" name="file">
                    <button type="submit">Sign up</button>
                    <p id="p2">Already have an account? <a href="#" id="flipToLogin">Login</a></p>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('flipToSignup').addEventListener('click', function () {
        document.getElementById('formContainer').classList.add('flip');
    });

    document.getElementById('flipToLogin').addEventListener('click', function () {
        document.getElementById('formContainer').classList.remove('flip');
    });
</script>
</body>
</html>
